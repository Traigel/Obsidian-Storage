2025-01-18 23:00
Tags: #auth #session

---

Это метод аутентификации, при котором сервер создает сессию для пользователя после успешного входа. Сессия привязывается к пользователю и хранится на сервере, а клиент получает уникальный идентификатор сессии (обычно в виде cookie), который отправляется при последующих запросах.

![[session.png]]

---
### Принцип работы Session-Based Authentication

1. **Аутентификация пользователя:**
	- Пользователь отправляет свои учетные данные (например, логин и пароль) на сервер
	- Сервер проверяет данные и, если они корректны, создает сессию.
	- В сессии хранится информация о пользователе, например, ID пользователя, роли или другой контекст.
2. **Отправка идентификатора сессии:**
	- Сервер отправляет клиенту уникальный идентификатор сессии (Session ID).
	- Этот идентификатор передается клиенту в cookie.
3. **Хранение сессии:**
	- Сервер сохраняет сессию в памяти, базе данных, Redis или другом хранилище.
4. **Использование сессии:**
	- При выполнении последующих запросов клиент автоматически отправляет cookie с идентификатором сессии.
	- Сервер использует идентификатор для поиска соответствующей сессии и проверки, авторизован ли пользователь.
5. **Истечение срока действия (Expiration):**
	- Сессии имеют срок действия. После его истечения пользователь должен снова войти в систему.
	- Можно реализовать механизмы автоматического продления сессии при активности.

---

### Основные преимущества Session-Based Authentication

1. **Безопасность:**
    - Информация о пользователе хранится на сервере, а не на клиенте.
    - Сервер может аннулировать сессию в любое время (например, при выходе пользователя или подозрительной активности).
2. **Поддержка различных механизмов:**
    - Сессии легко использовать вместе с традиционными системами авторизации, такими как роли и права доступа.
3. **Совместимость с браузерами:**
    - Большинство браузеров поддерживают работу с cookie, что упрощает реализацию.

---

### Недостатки Session-Based Authentication

1. **Сложность масштабирования:**
    - При росте нагрузки серверу приходится управлять большим количеством сессий.
    - Если приложение распределено на несколько серверов, нужно использовать общее хранилище для сессий (например, Redis).
2. **Память на сервере:**
    - Хранение сессий занимает оперативную память или место в базе данных.
3. **Привязка к состоянию (Stateful):**
    - Сервер должен хранить состояние сессий, что затрудняет переносимость (например, в микросервисной архитектуре).


---
### Links
[[Auth]]
