2022-07-18 16:53
Tags: #React #hook 
__
# useEffect
_Хук эффекта_ даёт вам возможность выполнять `Side Effect` в функциональном компоненте.
useEffect - это осинхронный код,выполняется тольк после синхронного кода

```tsx
useEffect(() => { ... }, [зависимость])
```
- Внутри фенкции пишится код который мы хотим выполнить
- зависимость - это переменноя за изменением которой мы следим.
---
1) Если не передовать зависимость то код внутри useEffect будет выполняться каждый раз при отрисовке страницы.
```tsx
useEffect(() => {       //выполняется каждый раз  
    ...
})
```
2) Если в зависимость передать пустой массив, то useEffect выполнется только один раз при мантировании компоненты (оналог componentDidMount).
```tsx
useEffect(() => {       //выполняется только при первой отрисовке  
    ...
}, [])
```
3) Если указать зависимость, то код внутри useEffect выполниться при отрисовке страницы первый раз и при каждом изменении зависимости.
```tsx
useEffect(() => {       // выполняется при перваой отрисовке и  
    ...                 // каждый раз когда зависимость меняется
}, [counter])
```
---
Если вернуть код (`return`), то при перезагрузке или закрытии компоненты этот код будет выполнен.
```tsx
useEffect( () => {
	const intervalID = setInterval( () => {
		console.log('tick')
	}, 1000)
	return () => {
		clearInterval(intervalID)
	}
}, [])
```


__
### Links
[[hook (Хуки)]]